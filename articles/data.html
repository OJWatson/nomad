<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="nomad">
<title>Data • nomad</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data">
<meta property="og:description" content="nomad">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">nomad</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/data.html">Data</a>
    <a class="dropdown-item" href="../articles/introduction.html">Introduction</a>
    <a class="dropdown-item" href="../articles/structure.html">Package Structure</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Data</h1>
            
      
      
      <div class="d-none name"><code>data.Rmd</code></div>
    </div>

    
    
<p>The following vignette provides an overview of the different mobility
data sets that underpin the models available in <code>nomad</code>. This
overview provides additional information that will help explain the
differences between the data sets, which we provide to help users
identify the most suitable mobility model to use for their use case.</p>
<div class="section level2">
<h2 id="available-data">Available Data<a class="anchor" aria-label="anchor" href="#available-data"></a>
</h2>
</div>
<div class="section level2">
<h2 id="adding-new-mobility-models-to-nomad">Adding new mobility models to <code>nomad</code><a class="anchor" aria-label="anchor" href="#adding-new-mobility-models-to-nomad"></a>
</h2>
<p>When new mobility data sets are generated, users who wish to easily
share the resultant mobility models with the wider community can easily
add these to <code>nomad</code>. To ensure consistency with
<code>nomad</code> and ensure data transparancy and reproducibility,
please follow these steps</p>
<p>If you wanted to later to and edit one of your datasets, here’s what
that workflow would look like:</p>
<div class="section level3">
<h3 id="update-the-data-catalogue">Update the data catalogue<a class="anchor" aria-label="anchor" href="#update-the-data-catalogue"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Fork the <code>nomad</code> repository and make a new branch</li>
<li>Go into <code>data-raw/</code> and add a new row in
<code>mobility_db.csv</code> to describe your new mobility data set</li>
<li>Run the <code>mobility_db_load.R</code> script to generate the
<code>mobility_db</code> R object</li>
<li>Save the new data catalogue object with
<code>usethis::use_data(mobility_db, overwrite = TRUE)</code>.</li>
</ol>
</div>
<div class="section level3">
<h3 id="add-your-mobility-model-to-nomad">Add your mobility model to <code>nomad</code><a class="anchor" aria-label="anchor" href="#add-your-mobility-model-to-nomad"></a>
</h3>
<ol style="list-style-type: decimal">
<li>Open <code>R/data.R</code> and add an additional entry for your new
mobility model.</li>
<li>For help adding this entry, please look at previous entries for an
example:</li>
</ol>
<pre><code><span><span class="co">#' Zambia 2020 Call Data Records Exponential Departure-Diffusion Model</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' Mobility model generated using [mobility::mobility()] based on call data</span></span>
<span><span class="co">#' records collected in Zambia in 2020 The mobility model is an exponential</span></span>
<span><span class="co">#' Departure-Diffusion model.</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' For full metadata of the CDR data, please see `?nomad::mobility_db`</span></span>
<span><span class="co">#'</span></span>
<span><span class="co">#' @format A `nomad::model` class object</span></span>
<span><span class="co">#' @source \url{https://elifesciences.org/articles/68441}</span></span>
<span><span class="st">"zambia_cdr_2020_mod_dd_exp"</span></span></code></pre>
<ol start="3" style="list-style-type: decimal">
<li>The last line above is the name of your <code>nomad::model</code>
that you now need to create, e.g.</li>
</ol>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zambia_cdr_2020_mod_dd_exp</span> <span class="op">&lt;-</span> <span class="fu">nomad</span><span class="fu">::</span><span class="fu">nmd_model</span><span class="op">(</span></span>
<span>  model <span class="op">=</span> <span class="va">zambia_cdr_2020_mod_dd_exp</span>,</span>
<span>  model_desc <span class="op">=</span> <span class="st">"Zambia 2020 Call Data Records Exponential Departure-Diffusion Model"</span>,</span>
<span>  data_desc <span class="op">=</span> <span class="st">"Zambia 2020 Call Data Records"</span>,</span>
<span>  model_name <span class="op">=</span> <span class="st">"zambia_cdr_2020_mod_dd_exp"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li><p>You will see the above function call, is very similar to the
<code>data.R</code> entry. Importantly, the <code>model_name</code>
argument is what is used to help <code>nomad</code> link this model to
the extra information you have provided in the
<code>mobility_db.csv</code> and allow the <code>nomad</code> helper
functions to present users with these longer descriptions. If your model
does not exist in the internal database (because you are still adding it
or do not want to), the <code>model_desc</code> and
<code>data_desc</code> fiels provide a minimal set of information for
users who you may share the model fit objet with about how the model was
generated.</p></li>
<li><p>Now you have generated the model, we add it to
<code>nomad</code>:</p></li>
</ol>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu">use_data</span><span class="op">(</span><span class="va">zambia_cdr_2020_mod_dd_exp</span><span class="op">)</span></span></code></pre></div>
<ol start="6" style="list-style-type: decimal">
<li>Run devtool::document() to put those changes into effect.</li>
<li>Run a Check for good measure with devtools::check(document=FALSE)
and finally…</li>
<li>Go to Build &gt; Install and Restart (Ctrl+Shift+B)</li>
<li>Commit your changes and push changes to your fork on Github</li>
<li>Make a pull request with your new model</li>
</ol>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by OJ Watson.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
